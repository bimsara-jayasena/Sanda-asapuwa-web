{"ast":null,"code":"var _jsxFileName = \"D:\\\\Document\\\\Education\\\\Self_study\\\\practicals\\\\MERN-stack\\\\react\\\\SandaAsapuwa-web\\\\client\\\\my-app\\\\src\\\\Pages\\\\img.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Img() {\n  _s();\n  let hasAvailableRoom = true;\n  let notAvailable = \"not available\";\n  let i = 0;\n  const [roomData, setRoomData] = useState([]);\n  const [roomId, setRoomId] = useState('');\n  const [roomUrl, setRoomUrl] = useState('');\n  const [rooms, setRooms] = useState([]);\n  const roomUrlRef = useRef('');\n  roomUrlRef.current = roomUrl;\n  useEffect(() => {\n    axios.get('http://localhost:5555/Rooms').then(res => {\n      setRoomData(res.data);\n    }).catch(err => console.log(err));\n  });\n  const handleRadioChange = id => {\n    setRoomId(id);\n    if (!rooms.includes(id)) {\n      setRooms(prevIds => [...prevIds, id]);\n    } else {\n      setRooms(prevIds => prevIds.filter(room => room !== id));\n    }\n  };\n  const showRoom = () => {\n    console.log(\"Selected Rooms\");\n    rooms.forEach(id => {\n      axios.get(`http://localhost:5555/Rooms/${id}`).then(res => {\n        setRoomUrl(res.data.url);\n        /* const data={\r\n          url:res.data.url,\r\n          availability:\"not available\"\r\n           \r\n         }\r\n        \r\n        \n        axios.put(`http://localhost:5555/Rooms/${id}`,data)\r\n        .then(()=>{alert(\"room is booked!\")})\r\n        .catch(()=>{alert(\"somthing is wrong!\")}) */\n      }).catch(err => {\n        console.log(err);\n      });\n      const data = {\n        url: \"ssdf\",\n        availability: \"not availble\"\n      };\n      axios.put(`http://localhost:5555/Rooms/${id}`, data).then(() => {\n        alert(\"room is booked!\");\n      }).catch(() => {\n        alert(\"somthing is wrong!\");\n      }).catch(err => {\n        console.log(err);\n      });\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Available Rooms\", roomData.map(room => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: room.availability === \"available\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkBox\",\n                id: room._id,\n                name: \"room\",\n                onChange: () => handleRadioChange(room._id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                for: room._id,\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: room.url\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 47\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: [\"Room ID:\", room._id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 47\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: [\"Availblity: \", room.availability]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 47\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 43\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 36\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Sorry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 29\n        }, this)\n      }, room._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: showRoom,\n      children: \"update\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 9\n  }, this);\n}\n_s(Img, \"VDTzMPckGZ6oPgPZa9vK+8j4a24=\");\n_c = Img;\nvar _c;\n$RefreshReg$(_c, \"Img\");","map":{"version":3,"names":["axios","React","useEffect","useState","useRef","jsxDEV","_jsxDEV","Img","_s","hasAvailableRoom","notAvailable","i","roomData","setRoomData","roomId","setRoomId","roomUrl","setRoomUrl","rooms","setRooms","roomUrlRef","current","get","then","res","data","catch","err","console","log","handleRadioChange","id","includes","prevIds","filter","room","showRoom","forEach","url","availability","put","alert","children","map","type","_id","name","onChange","fileName","_jsxFileName","lineNumber","columnNumber","for","src","onClick","_c","$RefreshReg$"],"sources":["D:/Document/Education/Self_study/practicals/MERN-stack/react/SandaAsapuwa-web/client/my-app/src/Pages/img.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState ,useRef} from \"react\";\r\n\r\n\r\nexport default function Img(){\r\n    let hasAvailableRoom=true\r\n    let notAvailable=\"not available\";\r\n    let i=0;\r\n    const [roomData,setRoomData]=useState([]);\r\n    const [roomId,setRoomId]=useState('');\r\n    const [roomUrl,setRoomUrl]=useState('');\r\n    const [rooms, setRooms] = useState([]);\r\n    \r\n    const roomUrlRef=useRef('');\r\n    roomUrlRef.current=roomUrl\r\n    useEffect(()=>{\r\n        axios.get('http://localhost:5555/Rooms')\r\n          .then((res)=>{\r\n        \r\n           setRoomData(res.data);\r\n           \r\n           \r\n            })\r\n          .catch((err)=>console.log(err))\r\n          \r\n      }) \r\n\r\n      \r\n          const handleRadioChange = (id) => {\r\n        \r\n            setRoomId(id);\r\n           \r\n            \r\n          \r\n              if (!rooms.includes(id)) {\r\n                setRooms(prevIds => [...prevIds, id]);\r\n               } else {\r\n                 setRooms(prevIds => prevIds.filter(room => room !== id));\r\n               }\r\n        \r\n            \r\n        };\r\n        \r\n        const showRoom=()=>{\r\n         \r\n         \r\n         \r\n          console.log(\"Selected Rooms\")\r\n          rooms.forEach((id)=>{\r\n             axios.get(`http://localhost:5555/Rooms/${id}`)\r\n                  .then((res)=>{\r\n                          setRoomUrl(res.data.url)\r\n                          /* const data={\r\n                            url:res.data.url,\r\n                            availability:\"not available\"\r\n                             \r\n                           }\r\n                          \r\n                         \r\n                          axios.put(`http://localhost:5555/Rooms/${id}`,data)\r\n                          .then(()=>{alert(\"room is booked!\")})\r\n                          .catch(()=>{alert(\"somthing is wrong!\")}) */\r\n                         \r\n                        \r\n                        })\r\n                   \r\n                        .catch((err)=>{console.log(err)})\r\n\r\n                        const data={\r\n                          url:\"ssdf\",\r\n                          availability:\"not availble\"\r\n                           \r\n                         }\r\n                        \r\n                       \r\n                        axios.put(`http://localhost:5555/Rooms/${id}`,data)\r\n                        .then(()=>{alert(\"room is booked!\")})\r\n                        .catch(()=>{alert(\"somthing is wrong!\")})\r\n\r\n\r\n\r\n                        .catch((err)=>{console.log(err)})\r\n\r\n                       \r\n                      }\r\n                      \r\n                     \r\n          )\r\n            \r\n           \r\n         \r\n       \r\n    }\r\n    \r\n      return(\r\n        <div>\r\n           Available Rooms\r\n            {roomData.map((room)=>{\r\n              \r\n                \r\n              \r\n                return(\r\n                    <div key={room._id}>\r\n                      \r\n                       {(room.availability===\"available\") ? \r\n                            <div>\r\n                         \r\n                              <form>\r\n                              {/*   {inputType ?\r\n                                      <div>\r\n                                        <input \r\n                                              type='radio' \r\n                                              id={room._id}\r\n                                              name='room'\r\n                                              checked={ selectedRoom === room._id}\r\n                                              onChange={() => handleRadioChange(room._id)} \r\n                                          />\r\n                                          <label for={room._id}>\r\n                                              <img src={room.url}/>\r\n                                          </label>\r\n                                      </div>\r\n                                      :\r\n\r\n                                     \r\n                                  } */}\r\n                                   <div>\r\n                                        <input \r\n                                              type='checkBox' \r\n                                              id={room._id}\r\n                                              name='room'\r\n                                            \r\n                                              onChange={() => handleRadioChange(room._id)} \r\n                                          />\r\n                                          <label for={room._id}>\r\n                                              <img src={room.url}/>\r\n                                              <h2>Room ID:{room._id}</h2>\r\n                                              <h2>Availblity: {room.availability}</h2>\r\n                                          </label>\r\n                                      </div>\r\n                              </form>\r\n                     \r\n                            </div> \r\n                            : \r\n                            <span>Sorry</span>  \r\n                        \r\n                        \r\n                        \r\n                        \r\n                      }\r\n                      \r\n                    \r\n\r\n                    </div>\r\n                )\r\n            })}\r\n          <button onClick={showRoom}>update</button>\r\n        </div>\r\n      )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}